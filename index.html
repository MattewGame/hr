<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HR Resume Analyzer</title>
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üîç</text></svg>">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.4.120/pdf.min.js"></script>
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --light-color: #ecf0f1;
            --dark-color: #34495e;
            --success-color: #2ecc71;
            --warning-color: #f39c12;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: var(--dark-color);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background-color: var(--primary-color);
            color: white;
            padding: 15px 0;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 24px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .logo-icon {
            font-size: 28px;
        }
        
        nav ul {
            display: flex;
            list-style: none;
            align-items: center;
            gap: 20px;
        }
        
        nav ul li a {
            color: white;
            text-decoration: none;
            transition: color 0.3s;
        }
        
        nav ul li a:hover {
            color: var(--secondary-color);
        }
        
        .auth-section {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .user-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--secondary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        
        .auth-btn {
            background: transparent;
            color: white;
            border: 1px solid white;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .auth-btn:hover {
            background: white;
            color: var(--primary-color);
        }
        
        /* –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }
        
        .modal-content {
            background-color: white;
            margin: 10% auto;
            padding: 30px;
            border-radius: 8px;
            width: 90%;
            max-width: 400px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .close {
            color: #aaa;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }
        
        .close:hover {
            color: black;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }
        
        .form-group input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }
        
        .form-actions {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 20px;
        }
        
        .btn {
            background-color: var(--secondary-color);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }
        
        .btn:hover {
            background-color: #2980b9;
        }
        
        .btn-google {
            background-color: #db4437;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .btn-google:hover {
            background-color: #c23321;
        }
        
        .btn-secondary {
            background-color: #95a5a6;
        }
        
        .btn-secondary:hover {
            background-color: #7f8c8d;
        }
        
        .btn-outline {
            background: transparent;
            border: 1px solid var(--secondary-color);
            color: var(--secondary-color);
        }
        
        .btn-outline:hover {
            background: var(--secondary-color);
            color: white;
        }
        
        .divider {
            text-align: center;
            margin: 20px 0;
            position: relative;
        }
        
        .divider::before {
            content: "";
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 1px;
            background: #ddd;
        }
        
        .divider span {
            background: white;
            padding: 0 15px;
            color: #666;
        }

        .hero {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 60px 0;
            text-align: center;
            margin-bottom: 40px;
        }
        
        .hero h1 {
            font-size: 2.5rem;
            margin-bottom: 20px;
        }
        
        .hero p {
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto;
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }
        
        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }
        
        .input-section, .output-section {
            background-color: white;
            border-radius: 8px;
            padding: 25px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .section-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--primary-color);
            border-bottom: 2px solid var(--light-color);
            padding-bottom: 10px;
        }
        
        textarea {
            width: 100%;
            height: 300px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            resize: vertical;
            font-size: 16px;
            margin-bottom: 15px;
        }
        
        .loading {
            display: none;
            text-align: center;
            margin: 20px 0;
        }
        
        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left-color: var(--secondary-color);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .result-container {
            background-color: var(--light-color);
            border-radius: 4px;
            padding: 15px;
            margin-top: 20px;
            max-height: 600px;
            overflow-y: auto;
        }
        
        .result-section {
            margin-bottom: 20px;
            padding: 15px;
            background: white;
            border-radius: 6px;
            border-left: 4px solid var(--secondary-color);
        }
        
        .result-section-title {
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .result-item {
            margin-bottom: 8px;
            padding: 8px 12px;
            background: #f8f9fa;
            border-radius: 4px;
            border-left: 3px solid var(--success-color);
        }
        
        .result-item:last-child {
            margin-bottom: 0;
        }
        
        .result-subitem {
            margin-left: 15px;
            padding: 4px 0;
            color: var(--dark-color);
        }
        
        .skills-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 8px;
            margin-top: 8px;
        }
        
        .skill-tag {
            background: var(--secondary-color);
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.85rem;
            text-align: center;
        }
        
        .contact-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-top: 8px;
        }
        
        .contact-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 6px 10px;
            background: #e8f4fd;
            border-radius: 4px;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ */
        .stats-section {
            background-color: white;
            border-radius: 8px;
            padding: 25px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 40px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #f5f7fa, #e4e8f0);
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            border: 1px solid #e1e5eb;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
        }
        
        .stat-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .stat-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 1rem;
            color: var(--dark-color);
            opacity: 0.8;
        }
        
        .reset-stats {
            text-align: center;
            margin-top: 20px;
        }
        
        footer {
            background-color: var(--primary-color);
            color: white;
            text-align: center;
            padding: 20px 0;
            margin-top: 40px;
        }
        
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }
        
        .feature-card {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
        }
        
        .feature-icon {
            font-size: 2rem;
            color: var(--secondary-color);
            margin-bottom: 15px;
        }
        
        .file-upload {
            margin-bottom: 15px;
        }
        
        .file-upload-label {
            display: inline-block;
            background-color: var(--light-color);
            padding: 10px 15px;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
            margin-right: 10px;
            margin-bottom: 10px;
        }
        
        .file-upload-label:hover {
            background-color: #d5dbdb;
        }
        
        #file-input, #pdf-input {
            display: none;
        }
        
        .notification {
            padding: 10px 15px;
            border-radius: 4px;
            margin-bottom: 15px;
            display: none;
        }
        
        .notification.success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .notification.error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .api-status {
            background-color: #d4edda;
            color: #155724;
            padding: 10px 15px;
            border-radius: 4px;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .file-info {
            background-color: #e8f4fd;
            padding: 10px 15px;
            border-radius: 4px;
            margin: 10px 0;
            display: none;
        }
        
        .pdf-preview {
            background-color: #f8f9fa;
            border: 2px dashed #dee2e6;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            margin: 15px 0;
            display: none;
        }
        
        .pdf-preview.active {
            display: block;
        }
        
        .pdf-icon {
            font-size: 48px;
            color: #e74c3c;
            margin-bottom: 10px;
        }
        
        .upload-options {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .file-stats {
            font-size: 14px;
            color: #666;
            margin-top: 5px;
        }

        .protected-content {
            display: none;
        }

        .login-prompt {
            text-align: center;
            padding: 60px 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin: 40px 0;
        }

        .login-prompt h2 {
            margin-bottom: 20px;
            color: var(--primary-color);
        }

        .candidate-summary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .summary-item {
            text-align: center;
            padding: 10px;
            background: rgba(255,255,255,0.2);
            border-radius: 6px;
        }

        .summary-value {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .summary-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è */
        .match-section {
            background-color: white;
            border-radius: 8px;
            padding: 25px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 40px;
        }

        .match-controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        @media (max-width: 768px) {
            .match-controls {
                grid-template-columns: 1fr;
            }
        }

        .match-input {
            margin-bottom: 15px;
        }

        .match-input textarea {
            height: 200px;
        }

        .match-result {
            margin-top: 20px;
        }

        .match-score {
            text-align: center;
            margin: 20px 0;
            padding: 20px;
            border-radius: 8px;
            background: linear-gradient(135deg, #f5f7fa, #c3cfe2);
        }

        .score-value {
            font-size: 3rem;
            font-weight: bold;
            margin: 10px 0;
        }

        .score-label {
            font-size: 1.2rem;
            color: var(--dark-color);
        }

        .score-excellent {
            color: var(--success-color);
        }

        .score-good {
            color: var(--secondary-color);
        }

        .score-average {
            color: var(--warning-color);
        }

        .score-poor {
            color: var(--accent-color);
        }

        .match-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }

        @media (max-width: 768px) {
            .match-details {
                grid-template-columns: 1fr;
            }
        }

        .match-category {
            margin-bottom: 15px;
        }

        .category-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .category-title {
            font-weight: bold;
            color: var(--primary-color);
        }

        .category-score {
            font-weight: bold;
            padding: 2px 8px;
            border-radius: 12px;
            background-color: var(--light-color);
        }

        .progress-bar {
            height: 8px;
            background-color: #e0e0e0;
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 0.5s ease;
        }

        .match-items {
            margin-top: 10px;
        }

        .match-item {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
            padding: 8px;
            border-radius: 4px;
            background-color: #f8f9fa;
        }

        .match-item.match {
            background-color: #e8f5e8;
            border-left: 3px solid var(--success-color);
        }

        .match-item.mismatch {
            background-color: #fde8e8;
            border-left: 3px solid var(--accent-color);
        }

        .match-item.partial {
            background-color: #fff4e8;
            border-left: 3px solid var(--warning-color);
        }

        .match-icon {
            margin-right: 10px;
            font-size: 1.2rem;
        }

        .recommendations {
            margin-top: 20px;
            padding: 15px;
            background-color: #e8f4fd;
            border-radius: 8px;
        }

        .recommendations h4 {
            margin-bottom: 10px;
            color: var(--primary-color);
        }

        .recommendations ul {
            padding-left: 20px;
        }

        .recommendations li {
            margin-bottom: 8px;
        }
    </style>
</head>
<body>
    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –≤—Ö–æ–¥–∞ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</h2>
                <span class="close">&times;</span>
            </div>
            <form id="loginForm">
                <div class="form-group">
                    <label for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">–ü–∞—Ä–æ–ª—å</label>
                    <input type="password" id="loginPassword" required>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn">–í–æ–π—Ç–∏</button>
                    <div class="divider"><span>–∏–ª–∏</span></div>
                    <button type="button" id="googleLogin" class="btn btn-google">
                        <span>üöÄ</span> –í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google
                    </button>
                    <button type="button" id="showRegister" class="btn btn-outline">
                        –°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç
                    </button>
                </div>
            </form>
        </div>
    </div>

    <div id="registerModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</h2>
                <span class="close">&times;</span>
            </div>
            <form id="registerForm">
                <div class="form-group">
                    <label for="registerName">–ò–º—è</label>
                    <input type="text" id="registerName" required>
                </div>
                <div class="form-group">
                    <label for="registerEmail">Email</label>
                    <input type="email" id="registerEmail" required>
                </div>
                <div class="form-group">
                    <label for="registerPassword">–ü–∞—Ä–æ–ª—å</label>
                    <input type="password" id="registerPassword" required minlength="6">
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn">–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</button>
                    <div class="divider"><span>–∏–ª–∏</span></div>
                    <button type="button" id="googleRegister" class="btn btn-google">
                        <span>üöÄ</span> –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ Google
                    </button>
                    <button type="button" id="showLogin" class="btn btn-outline">
                        –£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç
                    </button>
                </div>
            </form>
        </div>
    </div>

    <header>
        <div class="container header-content">
            <div class="logo">
                <span class="logo-icon">üîç</span>
                HR Resume Analyzer
            </div>
            <nav>
                <ul>
                    <li><a href="#analyze">–ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—é–º–µ</a></li>
                    <li><a href="#match">–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏</a></li>
                    <li><a href="#stats">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</a></li>
                    <li><a href="#features">–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</a></li>
                    <li><a href="#about">–û –ø—Ä–æ–µ–∫—Ç–µ</a></li>
                    <li class="auth-section">
                        <div id="userInfo" class="user-info" style="display: none;">
                            <div class="user-avatar" id="userAvatar">U</div>
                            <span id="userName">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</span>
                            <button id="logoutBtn" class="auth-btn">–í—ã–π—Ç–∏</button>
                        </div>
                        <div id="authButtons">
                            <button id="loginBtn" class="auth-btn">–í–æ–π—Ç–∏</button>
                            <button id="registerBtn" class="auth-btn">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
                        </div>
                    </li>
                </ul>
            </nav>
        </div>
    </header>
    
    <section class="hero">
        <div class="container">
            <h1>üîç –£–ø—Ä–æ—Å—Ç–∏—Ç–µ —Ä–∞–±–æ—Ç—É —Å —Ä–µ–∑—é–º–µ</h1>
            <p>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–≤–ª–µ–∫–∞–π—Ç–µ –∫–ª—é—á–µ–≤—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ —Ä–µ–∑—é–º–µ –∏ –æ—Ü–µ–Ω–∏–≤–∞–π—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ –≤–∞–∫–∞–Ω—Å–∏—è–º</p>
        </div>
    </section>
    
    <div class="container">
        <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
        <div id="loginPrompt" class="login-prompt">
            <h2>üîê –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É</h2>
            <p>–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–Ω–∞–ª–∏–∑—É —Ä–µ–∑—é–º–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</p>
            <button id="promptLogin" class="btn" style="margin-top: 20px;">–í–æ–π—Ç–∏ –∏–ª–∏ –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
        </div>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö) -->
        <div id="mainContent" class="protected-content">
            <div class="api-status">
                ‚úÖ –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ —Å YandexGPT | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PDF –∏ TXT —Ñ–∞–π–ª–æ–≤ | –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑ + –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏
            </div>
            
            <section id="analyze" class="main-content">
                <div class="input-section">
                    <h2 class="section-title">üìÑ –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ä–µ–∑—é–º–µ</h2>
                    
                    <div class="upload-options">
                        <label for="pdf-input" class="file-upload-label">
                            üìÑ –ó–∞–≥—Ä—É–∑–∏—Ç—å PDF
                        </label>
                        <label for="file-input" class="file-upload-label">
                            üìù –ó–∞–≥—Ä—É–∑–∏—Ç—å TXT
                        </label>
                        <button id="clear-all" class="btn btn-secondary">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ</button>
                    </div>
                    
                    <input type="file" id="pdf-input" accept=".pdf">
                    <input type="file" id="file-input" accept=".txt">
                    
                    <div class="pdf-preview" id="pdf-preview">
                        <div class="pdf-icon">üìÑ</div>
                        <h3>PDF –¥–æ–∫—É–º–µ–Ω—Ç –∑–∞–≥—Ä—É–∂–µ–Ω</h3>
                        <p id="pdf-info">–ò–¥–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∞...</p>
                        <div class="loading" id="pdf-loading">
                            <div class="spinner"></div>
                            <p>–ò–∑–≤–ª–µ–∫–∞–µ–º —Ç–µ–∫—Å—Ç –∏–∑ PDF...</p>
                        </div>
                    </div>
                    
                    <div class="file-info" id="file-info">
                        <strong>üìÅ –ó–∞–≥—Ä—É–∂–µ–Ω —Ñ–∞–π–ª:</strong> <span id="file-name"></span>
                        <div class="file-stats" id="file-stats"></div>
                    </div>
                    
                    <textarea id="resume-text" placeholder="–ò–ª–∏ –≤—Å—Ç–∞–≤—å—Ç–µ —Ç–µ–∫—Å—Ç —Ä–µ–∑—é–º–µ –∑–¥–µ—Å—å..."></textarea>
                    
                    <div class="notification" id="notification"></div>
                    <button id="analyze-btn" class="btn">üîç –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—é–º–µ</button>
                    
                    <div class="loading" id="loading">
                        <div class="spinner"></div>
                        <p>–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Ä–µ–∑—é–º–µ —Å –ø–æ–º–æ—â—å—é YandexGPT...</p>
                    </div>
                </div>
                
                <div class="output-section">
                    <h2 class="section-title">üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞</h2>
                    <div class="result-container" id="result-container">
                        <p>–ó–¥–µ—Å—å –ø–æ—è–≤–∏—Ç—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏–∑ —Ä–µ–∑—é–º–µ –ø–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞.</p>
                    </div>
                </div>
            </section>
            
            <!-- –°–µ–∫—Ü–∏—è –∞–Ω–∞–ª–∏–∑–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –≤–∞–∫–∞–Ω—Å–∏–∏ -->
            <section id="match" class="match-section">
                <h2 class="section-title">üéØ –ê–Ω–∞–ª–∏–∑ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –≤–∞–∫–∞–Ω—Å–∏–∏</h2>
                
                <div class="match-controls">
                    <div class="match-input">
                        <label for="job-description">–û–ø–∏—Å–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏:</label>
                        <textarea id="job-description" placeholder="–í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏, —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏...">Frontend-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- –û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã —Å React –æ—Ç 2 –ª–µ—Ç
- –ó–Ω–∞–Ω–∏–µ TypeScript
- –û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã —Å state management (Redux/MobX)
- –ó–Ω–∞–Ω–∏–µ HTML5, CSS3, –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–π –≤–µ—Ä—Å—Ç–∫–∏
- –û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã —Å —Å–∏—Å—Ç–µ–º–∞–º–∏ –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π (Git)
- –ó–Ω–∞–Ω–∏–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Å–±–æ—Ä–∫–∏ (Webpack, Vite)

–û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏:
- –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- –£—á–∞—Å—Ç–∏–µ –≤ –∫–æ–¥-—Ä–µ–≤—å—é
- –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å backend-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏

–ë—É–¥–µ—Ç –ø–ª—é—Å–æ–º:
- –û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã —Å Next.js
- –ó–Ω–∞–Ω–∏–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (Jest, React Testing Library)
- –û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã –≤ Agile/Scrum –∫–æ–º–∞–Ω–¥–∞—Ö</textarea>
                    </div>
                    
                    <div class="match-input">
                        <label for="resume-text-match">–¢–µ–∫—Å—Ç —Ä–µ–∑—é–º–µ (–∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –∏–∑ –∞–Ω–∞–ª–∏–∑–∞):</label>
                        <textarea id="resume-text-match" placeholder="–¢–µ–∫—Å—Ç —Ä–µ–∑—é–º–µ –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω –ø–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞..." readonly></textarea>
                    </div>
                </div>
                
                <button id="match-btn" class="btn">üéØ –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ</button>
                
                <div class="loading" id="match-loading" style="display: none;">
                    <div class="spinner"></div>
                    <p>–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ –≤–∞–∫–∞–Ω—Å–∏–∏...</p>
                </div>
                
                <div class="match-result" id="match-result" style="display: none;">
                    <div class="match-score">
                        <div class="score-label">–û–±—â–µ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ</div>
                        <div class="score-value" id="overall-score">0%</div>
                        <div class="score-description" id="score-description">–û–ø–∏—Å–∞–Ω–∏–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è</div>
                    </div>
                    
                    <div class="match-details">
                        <div class="match-category">
                            <div class="category-header">
                                <span class="category-title">üõ†Ô∏è –ù–∞–≤—ã–∫–∏ –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</span>
                                <span class="category-score" id="skills-score">0%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="skills-progress" style="width: 0%; background-color: var(--accent-color);"></div>
                            </div>
                            <div class="match-items" id="skills-items">
                                <!-- –ù–∞–≤—ã–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            </div>
                        </div>
                        
                        <div class="match-category">
                            <div class="category-header">
                                <span class="category-title">üíº –û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã</span>
                                <span class="category-score" id="experience-score">0%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="experience-progress" style="width: 0%; background-color: var(--accent-color);"></div>
                            </div>
                            <div class="match-items" id="experience-items">
                                <!-- –û–ø—ã—Ç –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            </div>
                        </div>
                        
                        <div class="match-category">
                            <div class="category-header">
                                <span class="category-title">üéì –û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ</span>
                                <span class="category-score" id="education-score">0%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="education-progress" style="width: 0%; background-color: var(--accent-color);"></div>
                            </div>
                            <div class="match-items" id="education-items">
                                <!-- –û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            </div>
                        </div>
                        
                        <div class="match-category">
                            <div class="category-header">
                                <span class="category-title">üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è</span>
                                <span class="category-score" id="additional-score">0%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="additional-progress" style="width: 0%; background-color: var(--accent-color);"></div>
                            </div>
                            <div class="match-items" id="additional-items">
                                <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            </div>
                        </div>
                    </div>
                    
                    <div class="recommendations">
                        <h4>üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</h4>
                        <ul id="recommendations-list">
                            <!-- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        </ul>
                    </div>
                </div>
            </section>
            
            <!-- –°–µ–∫—Ü–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
            <section id="stats" class="stats-section">
                <h2 class="section-title">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∞–Ω–∞–ª–∏–∑–∞</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">üìà</div>
                        <div class="stat-value" id="today-count">0</div>
                        <div class="stat-label">–°–µ–≥–æ–¥–Ω—è</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üìÖ</div>
                        <div class="stat-value" id="week-count">0</div>
                        <div class="stat-label">–ó–∞ –Ω–µ–¥–µ–ª—é</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üóìÔ∏è</div>
                        <div class="stat-value" id="month-count">0</div>
                        <div class="stat-label">–ó–∞ –º–µ—Å—è—Ü</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üèÜ</div>
                        <div class="stat-value" id="total-count">0</div>
                        <div class="stat-label">–í—Å–µ–≥–æ</div>
                    </div>
                </div>
                <div class="reset-stats">
                    <button id="reset-stats" class="btn btn-secondary" style="padding: 8px 16px; font-size: 14px;">
                        üîÑ –°–±—Ä–æ—Å–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
                    </button>
                </div>
            </section>
            
            <section id="features">
                <h2 class="section-title" style="text-align: center;">üéØ –ß—Ç–æ –º—ã –∏–∑–≤–ª–µ–∫–∞–µ–º –∏–∑ —Ä–µ–∑—é–º–µ</h2>
                <div class="features">
                    <div class="feature-card">
                        <div class="feature-icon">üë§</div>
                        <h3>–õ–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
                        <p>–§–ò–û, –∫–æ–Ω—Ç–∞–∫—Ç—ã, –ª–æ–∫–∞—Ü–∏—è</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üë®‚Äçüéì</div>
                        <h3>–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ</h3>
                        <p>–£—á–µ–±–Ω—ã–µ –∑–∞–≤–µ–¥–µ–Ω–∏—è, —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏, –≥–æ–¥—ã</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üíº</div>
                        <h3>–û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã</h3>
                        <p>–ö–æ–º–ø–∞–Ω–∏–∏, –¥–æ–ª–∂–Ω–æ—Å—Ç–∏, –ø–µ—Ä–∏–æ–¥—ã, –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üéØ</div>
                        <h3>–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏</h3>
                        <p>–û—Ü–µ–Ω–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –≤–∞–∫–∞–Ω—Å–∏–∏</p>
                    </div>
                </div>
            </section>
            
            <section id="about" style="margin-top: 40px;">
                <h2 class="section-title">‚ÑπÔ∏è –û –ø—Ä–æ–µ–∫—Ç–µ</h2>
                <p>–≠—Ç–æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç YandexGPT –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ —Ä–µ–∑—é–º–µ –∏ –æ—Ü–µ–Ω–∫–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ –≤–∞–∫–∞–Ω—Å–∏—è–º. –û–Ω –ø–æ–º–æ–≥–∞–µ—Ç HR-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞–º —ç–∫–æ–Ω–æ–º–∏—Ç—å –≤—Ä–µ–º—è –∏ –±—ã—Å—Ç—Ä–æ –æ—Ü–µ–Ω–∏–≤–∞—Ç—å –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤.</p>
                <p>–ü—Ä–æ—Å—Ç–æ –∑–∞–≥—Ä—É–∑–∏—Ç–µ PDF-—Ñ–∞–π–ª, —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª –∏–ª–∏ –≤—Å—Ç–∞–≤—å—Ç–µ —Ç–µ–∫—Å—Ç —Ä–µ–∑—é–º–µ, –∏ —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–¥–µ–ª–∏—Ç –≤–∞–∂–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π.</p>
            </section>
        </div>
    </div>
    
    <footer>
        <div class="container">
            <p>HR Resume Analyzer &copy; 2025 | üîç –£–ø—Ä–æ—â–∞–µ–º —Ä–∞–±–æ—Ç—É HR-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤</p>
        </div>
    </footer>

    <script>
        // Firebase –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
        const firebaseConfig = {
            apiKey: "AIzaSyB7LRvg7EiE87LCVCyIM1QCYSD971uOsh0",
            authDomain: "hr-resume-analyzer-d572e.firebaseapp.com",
            projectId: "hr-resume-analyzer-d572e",
            storageBucket: "hr-resume-analyzer-d572e.firebasestorage.app",
            messagingSenderId: "134713075474",
            appId: "1:134713075474:web:212f0d5d4ecfa7c504f5cb",
            measurementId: "G-E4CK5WG5JY"
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Firebase
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore(); // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Firestore

        // URL Cloud Function
        const CLOUD_FUNCTION_URL = 'https://functions.yandexcloud.net/d4eudmm1qr4smp94v6ts';

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è PDF.js
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.4.120/pdf.worker.min.js';

        // =================== –ì–õ–û–ë–ê–õ–¨–ù–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï –ò –§–£–ù–ö–¶–ò–ò ===================
        
        // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        let todayCount = null;
        let weekCount = null;
        let monthCount = null;
        let totalCount = null;

        // –§—É–Ω–∫—Ü–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        async function initializeUserStats() {
            const user = auth.currentUser;
            if (!user) return;
            
            try {
                const userStatsRef = db.collection('users').doc(user.uid).collection('stats').doc('resume');
                const statsDoc = await userStatsRef.get();
                
                if (!statsDoc.exists) {
                    const initialStats = {
                        total: 0,
                        today: 0,
                        week: 0,
                        month: 0,
                        lastUpdated: null,
                        createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                        updatedAt: firebase.firestore.FieldValue.serverTimestamp()
                    };
                    
                    await userStatsRef.set(initialStats);
                    console.log('–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Å–æ–∑–¥–∞–Ω–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', user.uid);
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:', error);
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        async function updateFirebaseStats() {
            const user = auth.currentUser;
            if (!user) {
                console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –Ω–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞');
                return;
            }
            
            try {
                const now = new Date();
                const todayStr = now.toISOString().split('T')[0];
                
                const statsRef = db.collection('users').doc(user.uid).collection('stats').doc('resume');
                const statsDoc = await statsRef.get();
                
                let stats = statsDoc.exists ? statsDoc.data() : {
                    total: 0,
                    today: 0,
                    week: 0,
                    month: 0,
                    lastUpdated: null,
                    createdAt: firebase.firestore.FieldValue.serverTimestamp()
                };
                
                const lastUpdated = stats.lastUpdated;
                stats.total = (stats.total || 0) + 1;
                
                if (!lastUpdated || lastUpdated !== todayStr) {
                    stats.today = 1;
                } else {
                    stats.today = (stats.today || 0) + 1;
                }
                
                stats.week = (stats.week || 0) + 1;
                stats.month = (stats.month || 0) + 1;
                stats.lastUpdated = todayStr;
                stats.updatedAt = firebase.firestore.FieldValue.serverTimestamp();
                
                await statsRef.set(stats, { merge: true });
                
                console.log('–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –≤ Firestore:', stats);
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
                await updateStatsDisplay(stats);
                
                return stats;
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:', error);
                showNotification('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏', 'error');
                return null;
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
        function updateStatsDisplay(stats) {
            console.log('–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:', stats);
            
            if (stats) {
                // –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä—è–º–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º
                const todayElement = document.getElementById('today-count');
                const weekElement = document.getElementById('week-count');
                const monthElement = document.getElementById('month-count');
                const totalElement = document.getElementById('total-count');
                
                if (todayElement) {
                    todayElement.textContent = stats.today || 0;
                    console.log('–û–±–Ω–æ–≤–ª–µ–Ω today-count:', stats.today);
                }
                
                if (weekElement) {
                    weekElement.textContent = stats.week || 0;
                    console.log('–û–±–Ω–æ–≤–ª–µ–Ω week-count:', stats.week);
                }
                
                if (monthElement) {
                    monthElement.textContent = stats.month || 0;
                    console.log('–û–±–Ω–æ–≤–ª–µ–Ω month-count:', stats.month);
                }
                
                if (totalElement) {
                    totalElement.textContent = stats.total || 0;
                    console.log('–û–±–Ω–æ–≤–ª–µ–Ω total-count:', stats.total);
                }
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        async function displayFirebaseStats() {
            const user = auth.currentUser;
            if (!user) return;
            
            try {
                const statsDoc = await db.collection('users').doc(user.uid).collection('stats').doc('resume').get();
                
                if (statsDoc.exists) {
                    const stats = statsDoc.data();
                    console.log('–ü–æ–ª—É—á–µ–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:', stats);
                    updateStatsDisplay(stats);
                } else {
                    console.log('–î–æ–∫—É–º–µ–Ω—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω, —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π');
                    await initializeUserStats();
                    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω—É–ª–∏
                    updateStatsDisplay({
                        total: 0,
                        today: 0,
                        week: 0,
                        month: 0
                    });
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:', error);
            }
        }

        // –§—É–Ω–∫—Ü–∏—è —Å–±—Ä–æ—Å–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        async function resetFirebaseStats() {
            const user = auth.currentUser;
            if (!user) {
                showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è —Å–±—Ä–æ—Å–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏', 'error');
                return;
            }
            
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–±—Ä–æ—Å–∏—Ç—å –≤—Å—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.')) {
                try {
                    const initialStats = {
                        total: 0,
                        today: 0,
                        week: 0,
                        month: 0,
                        lastUpdated: null,
                        resetAt: firebase.firestore.FieldValue.serverTimestamp(),
                        updatedAt: firebase.firestore.FieldValue.serverTimestamp()
                    };
                    
                    await db.collection('users').doc(user.uid).collection('stats').doc('resume').set(initialStats);
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                    updateStatsDisplay(initialStats);
                    showNotification('–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É—Å–ø–µ—à–Ω–æ —Å–±—Ä–æ—à–µ–Ω–∞', 'success');
                    
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–±—Ä–æ—Å–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:', error);
                    showNotification('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–±—Ä–æ—Å–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏', 'error');
                }
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
        function showNotification(message, type) {
            const notification = document.getElementById('notification');
            if (notification) {
                notification.textContent = message;
                notification.className = 'notification ' + type;
                notification.style.display = 'block';
                
                setTimeout(() => {
                    notification.style.display = 'none';
                }, 5000);
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM –∑–∞–≥—Ä—É–∂–µ–Ω, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ...');
            
            // –≠–ª–µ–º–µ–Ω—Ç—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
            const loginBtn = document.getElementById('loginBtn');
            const registerBtn = document.getElementById('registerBtn');
            const logoutBtn = document.getElementById('logoutBtn');
            const loginModal = document.getElementById('loginModal');
            const registerModal = document.getElementById('registerModal');
            const loginForm = document.getElementById('loginForm');
            const registerForm = document.getElementById('registerForm');
            const googleLogin = document.getElementById('googleLogin');
            const googleRegister = document.getElementById('googleRegister');
            const showRegister = document.getElementById('showRegister');
            const showLogin = document.getElementById('showLogin');
            const userInfo = document.getElementById('userInfo');
            const authButtons = document.getElementById('authButtons');
            const userName = document.getElementById('userName');
            const userAvatar = document.getElementById('userAvatar');
            const promptLogin = document.getElementById('promptLogin');
            const loginPrompt = document.getElementById('loginPrompt');
            const mainContent = document.getElementById('mainContent');

            // –û—Å–Ω–æ–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
            const analyzeBtn = document.getElementById('analyze-btn');
            const resumeText = document.getElementById('resume-text');
            const resultContainer = document.getElementById('result-container');
            const loading = document.getElementById('loading');
            const fileInput = document.getElementById('file-input');
            const pdfInput = document.getElementById('pdf-input');
            const fileName = document.getElementById('file-name');
            const fileInfo = document.getElementById('file-info');
            const fileStats = document.getElementById('file-stats');
            const pdfPreview = document.getElementById('pdf-preview');
            const pdfInfo = document.getElementById('pdf-info');
            const pdfLoading = document.getElementById('pdf-loading');
            const notification = document.getElementById('notification');
            const clearAllBtn = document.getElementById('clear-all');

            // –≠–ª–µ–º–µ–Ω—Ç—ã —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∑–¥–µ—Å—å)
            todayCount = document.getElementById('today-count');
            weekCount = document.getElementById('week-count');
            monthCount = document.getElementById('month-count');
            totalCount = document.getElementById('total-count');
            const resetStatsBtn = document.getElementById('reset-stats');

            // –≠–ª–µ–º–µ–Ω—Ç—ã –∞–Ω–∞–ª–∏–∑–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è
            const jobDescription = document.getElementById('job-description');
            const resumeTextMatch = document.getElementById('resume-text-match');
            const matchBtn = document.getElementById('match-btn');
            const matchLoading = document.getElementById('match-loading');
            const matchResult = document.getElementById('match-result');
            const overallScore = document.getElementById('overall-score');
            const scoreDescription = document.getElementById('score-description');
            const skillsScore = document.getElementById('skills-score');
            const skillsProgress = document.getElementById('skills-progress');
            const skillsItems = document.getElementById('skills-items');
            const experienceScore = document.getElementById('experience-score');
            const experienceProgress = document.getElementById('experience-progress');
            const experienceItems = document.getElementById('experience-items');
            const educationScore = document.getElementById('education-score');
            const educationProgress = document.getElementById('education-progress');
            const educationItems = document.getElementById('education-items');
            const additionalScore = document.getElementById('additional-score');
            const additionalProgress = document.getElementById('additional-progress');
            const additionalItems = document.getElementById('additional-items');
            const recommendationsList = document.getElementById('recommendations-list');

            let currentFileType = null;
            let currentResumeData = null;

            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
            console.log('–ü—Ä–æ–≤–µ—Ä–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:');
            console.log('today-count:', todayCount);
            console.log('week-count:', weekCount);
            console.log('month-count:', monthCount);
            console.log('total-count:', totalCount);

            // =================== –£–ü–†–ê–í–õ–ï–ù–ò–ï –ú–û–î–ê–õ–¨–ù–´–ú–ò –û–ö–ù–ê–ú–ò ===================
            function showModal(modal) {
                modal.style.display = 'block';
            }

            function hideModal(modal) {
                modal.style.display = 'none';
            }

            // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
            document.querySelectorAll('.close').forEach(closeBtn => {
                closeBtn.addEventListener('click', function() {
                    hideModal(loginModal);
                    hideModal(registerModal);
                });
            });

            // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –º–æ–¥–∞–ª—å–Ω—ã–º–∏ –æ–∫–Ω–∞–º–∏
            showRegister.addEventListener('click', () => {
                hideModal(loginModal);
                showModal(registerModal);
            });

            showLogin.addEventListener('click', () => {
                hideModal(registerModal);
                showModal(loginModal);
            });

            promptLogin.addEventListener('click', () => {
                showModal(loginModal);
            });

            // –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
            loginBtn.addEventListener('click', () => showModal(loginModal));
            registerBtn.addEventListener('click', () => showModal(registerModal));

            // =================== –û–ë–†–ê–ë–û–¢–ö–ê –§–û–†–ú –ê–£–¢–ï–ù–¢–ò–§–ò–ö–ê–¶–ò–ò ===================
            loginForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                const email = document.getElementById('loginEmail').value;
                const password = document.getElementById('loginPassword').value;

                try {
                    await auth.signInWithEmailAndPassword(email, password);
                    hideModal(loginModal);
                    showNotification('–í—Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ!', 'success');
                } catch (error) {
                    showNotification(`–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞: ${error.message}`, 'error');
                }
            });

            registerForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                const name = document.getElementById('registerName').value;
                const email = document.getElementById('registerEmail').value;
                const password = document.getElementById('registerPassword').value;

                try {
                    const userCredential = await auth.createUserWithEmailAndPassword(email, password);
                    await userCredential.user.updateProfile({
                        displayName: name
                    });
                    hideModal(registerModal);
                    showNotification('–ê–∫–∫–∞—É–Ω—Ç —Å–æ–∑–¥–∞–Ω —É—Å–ø–µ—à–Ω–æ!', 'success');
                } catch (error) {
                    showNotification(`–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏: ${error.message}`, 'error');
                }
            });

            // Google –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
            async function signInWithGoogle() {
                const provider = new firebase.auth.GoogleAuthProvider();
                try {
                    await auth.signInWithPopup(provider);
                    hideModal(loginModal);
                    hideModal(registerModal);
                    showNotification('–í—Ö–æ–¥ —á–µ—Ä–µ–∑ Google –≤—ã–ø–æ–ª–Ω–µ–Ω!', 'success');
                } catch (error) {
                    showNotification(`–û—à–∏–±–∫–∞ Google –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏: ${error.message}`, 'error');
                }
            }

            googleLogin.addEventListener('click', signInWithGoogle);
            googleRegister.addEventListener('click', signInWithGoogle);

            // –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
            logoutBtn.addEventListener('click', () => {
                auth.signOut();
                showNotification('–í—ã –≤—ã—à–ª–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã', 'success');
            });

            // –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
            auth.onAuthStateChanged(async (user) => {
                if (user) {
                    userInfo.style.display = 'flex';
                    authButtons.style.display = 'none';
                    loginPrompt.style.display = 'none';
                    mainContent.style.display = 'block';
                    
                    const displayName = user.displayName || user.email.split('@')[0];
                    userName.textContent = displayName;
                    userAvatar.textContent = displayName.charAt(0).toUpperCase();
                    
                    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø—Ä–∏ –≤—Ö–æ–¥–µ
                    await initializeUserStats();
                    await displayFirebaseStats();
                    
                    console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–æ—à–µ–ª:', user.email);
                    
                } else {
                    userInfo.style.display = 'none';
                    authButtons.style.display = 'block';
                    loginPrompt.style.display = 'block';
                    mainContent.style.display = 'none';
                    
                    // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ
                    updateStatsDisplay({
                        total: 0,
                        today: 0,
                        week: 0,
                        month: 0
                    });
                    
                    console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã—à–µ–ª');
                }
            });

            // =================== –û–ë–†–ê–ë–û–¢–ö–ê –§–ê–ô–õ–û–í ===================
            clearAllBtn.addEventListener('click', function() {
                resumeText.value = '';
                fileInput.value = '';
                pdfInput.value = '';
                fileInfo.style.display = 'none';
                pdfPreview.classList.remove('active');
                pdfLoading.style.display = 'none';
                currentFileType = null;
                resumeTextMatch.value = '';
                showNotification('–í—Å–µ –ø–æ–ª—è –æ—á–∏—â–µ–Ω—ã', 'success');
            });

            fileInput.addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (!file) return;

                currentFileType = 'txt';
                pdfInput.value = '';
                pdfPreview.classList.remove('active');

                if (file.type === 'text/plain') {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        resumeText.value = e.target.result;
                        resumeTextMatch.value = e.target.result;
                        fileName.textContent = file.name;
                        fileStats.textContent = `–†–∞–∑–º–µ—Ä: ${(file.size / 1024).toFixed(2)} KB, –°–∏–º–≤–æ–ª–æ–≤: ${e.target.result.length}`;
                        fileInfo.style.display = 'block';
                        showNotification('–¢–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω', 'success');
                    };
                    reader.readAsText(file);
                } else {
                    showNotification('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª (.txt)', 'error');
                    fileInput.value = '';
                }
            });

            pdfInput.addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (!file) return;

                currentFileType = 'pdf';
                fileInput.value = '';
                fileInfo.style.display = 'none';
                
                if (file.type === 'application/pdf') {
                    fileName.textContent = file.name;
                    pdfInfo.textContent = `–§–∞–π–ª: ${file.name} (${(file.size / 1024).toFixed(2)} KB)`;
                    pdfPreview.classList.add('active');
                    pdfLoading.style.display = 'block';
                    
                    extractTextFromPDF(file);
                } else {
                    showNotification('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ PDF —Ñ–∞–π–ª', 'error');
                    pdfInput.value = '';
                }
            });

            async function extractTextFromPDF(file) {
                try {
                    const arrayBuffer = await file.arrayBuffer();
                    const pdf = await pdfjsLib.getDocument({ data: arrayBuffer }).promise;
                    
                    let fullText = '';
                    const pageCount = pdf.numPages;
                    
                    for (let pageNum = 1; pageNum <= pageCount; pageNum++) {
                        const page = await pdf.getPage(pageNum);
                        const textContent = await page.getTextContent();
                        const pageText = textContent.items.map(item => item.str).join(' ');
                        fullText += pageText + '\n\n';
                    }
                    
                    resumeText.value = fullText;
                    resumeTextMatch.value = fullText;
                    pdfInfo.innerHTML = `
                        –§–∞–π–ª: ${file.name}<br>
                        –†–∞–∑–º–µ—Ä: ${(file.size / 1024).toFixed(2)} KB<br>
                        –°—Ç—Ä–∞–Ω–∏—Ü: ${pageCount}<br>
                        –°–∏–º–≤–æ–ª–æ–≤: ${fullText.length}
                    `;
                    
                    pdfLoading.style.display = 'none';
                    showNotification(`PDF —É—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω (${pageCount} —Å—Ç—Ä–∞–Ω–∏—Ü)`, 'success');
                    
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ PDF:', error);
                    pdfLoading.style.display = 'none';
                    showNotification('–û—à–∏–±–∫–∞ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ PDF —Ñ–∞–π–ª–∞', 'error');
                    pdfPreview.classList.remove('active');
                }
            }

            // =================== –û–°–ù–û–í–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø –ê–ù–ê–õ–ò–ó–ê –†–ï–ó–Æ–ú–ï ===================
            analyzeBtn.addEventListener('click', async function() {
                const text = resumeText.value.trim();
                
                if (!text) {
                    showNotification('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª –∏–ª–∏ –≤–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç —Ä–µ–∑—é–º–µ', 'error');
                    return;
                }

                if (text.length < 50) {
                    showNotification('–¢–µ–∫—Å—Ç —Ä–µ–∑—é–º–µ —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π', 'error');
                    return;
                }
                
                loading.style.display = 'block';
                analyzeBtn.disabled = true;
                
                try {
                    const result = await analyzeResumeWithCloudFunction(text);
                    
                    if (result.success) {
                        currentResumeData = result.data;
                        displayStructuredResults(result.data);
                        resumeTextMatch.value = text;
                        
                        // –û–ë–ù–û–í–õ–Ø–ï–ú –°–¢–ê–¢–ò–°–¢–ò–ö–£ –í FIREBASE –ò –ù–ê –°–¢–†–ê–ù–ò–¶–ï
                        console.log('–ù–∞—á–∏–Ω–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏...');
                        const updatedStats = await updateFirebaseStats();
                        
                        if (updatedStats) {
                            console.log('–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∞:', updatedStats);
                            showNotification('–†–µ–∑—é–º–µ —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ —Å –ø–æ–º–æ—â—å—é YandexGPT', 'success');
                        } else {
                            showNotification('–†–µ–∑—é–º–µ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ, –Ω–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –Ω–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∞', 'warning');
                        }
                    } else {
                        throw new Error(result.error);
                    }
                    
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ —Ä–µ–∑—é–º–µ:', error);
                    showNotification('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ —Ä–µ–∑—é–º–µ: ' + error.message, 'error');
                } finally {
                    loading.style.display = 'none';
                    analyzeBtn.disabled = false;
                }
            });
            
            async function analyzeResumeWithCloudFunction(resumeText) {
                try {
                    const analysisPrompt = `
–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Ä–µ–∑—é–º–µ –∏ –∏–∑–≤–ª–µ–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º JSON —Ñ–æ—Ä–º–∞—Ç–µ. –£–±–µ—Ä–∏ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è –∏ —Å–≥—Ä—É–ø–ø–∏—Ä—É–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ª–æ–≥–∏—á–µ—Å–∫–∏.

–†–µ–∑—é–º–µ:
${resumeText}

–í–µ—Ä–Ω–∏ –æ—Ç–≤–µ—Ç –¢–û–õ–¨–ö–û –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞:

{
  "personal_info": {
    "full_name": "–§–ò–û",
    "contacts": {
      "email": "email",
      "phone": "—Ç–µ–ª–µ—Ñ–æ–Ω",
      "location": "–≥–æ—Ä–æ–¥"
    }
  },
  "education": [
    {
      "institution": "—É—á–µ–±–Ω–æ–µ –∑–∞–≤–µ–¥–µ–Ω–∏–µ",
      "faculty": "—Ñ–∞–∫—É–ª—å—Ç–µ—Ç",
      "specialty": "—Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å",
      "years": "–≥–æ–¥—ã –æ–±—É—á–µ–Ω–∏—è",
      "degree": "—Å—Ç–µ–ø–µ–Ω—å"
    }
  ],
  "experience": [
    {
      "company": "–∫–æ–º–ø–∞–Ω–∏—è",
      "position": "–¥–æ–ª–∂–Ω–æ—Å—Ç—å",
      "period": "–ø–µ—Ä–∏–æ–¥ —Ä–∞–±–æ—Ç—ã",
      "responsibilities": ["–æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç—å 1", "–æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç—å 2"]
    }
  ],
  "skills": {
    "technical": ["—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –Ω–∞–≤—ã–∫ 1", "—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –Ω–∞–≤—ã–∫ 2"],
    "languages": ["—è–∑—ã–∫ 1 - —É—Ä–æ–≤–µ–Ω—å", "—è–∑—ã–∫ 2 - —É—Ä–æ–≤–µ–Ω—å"],
    "certifications": ["—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è 1", "—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è 2"]
  },
  "summary": {
    "total_experience": "–æ–±—â–∏–π –æ–ø—ã—Ç –≤ –≥–æ–¥–∞—Ö",
    "key_qualifications": ["–∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—è 1", "–∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—è 2"],
    "career_level": "—É—Ä–æ–≤–µ–Ω—å (junior/middle/senior)"
  }
}

–ï—Å–ª–∏ –∫–∞–∫–∞—è-—Ç–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –æ—Å—Ç–∞–≤—å –ø–æ–ª–µ –ø—É—Å—Ç—ã–º –∏–ª–∏ null.`;

                    const response = await fetch(CLOUD_FUNCTION_URL, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            text: analysisPrompt
                        })
                    });
                    
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    
                    return await response.json();
                    
                } catch (fetchError) {
                    return {
                        success: false,
                        error: "–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É: " + fetchError.message
                    };
                }
            }
            
            function displayStructuredResults(data) {
                let html = '';
                
                if (data.result && data.result.alternatives && data.result.alternatives[0]) {
                    const aiResponse = data.result.alternatives[0].message.text;
                    
                    try {
                        let jsonText = aiResponse;
                        
                        if (aiResponse.includes('```json')) {
                            jsonText = aiResponse.split('```json')[1].split('```')[0].trim();
                        } else if (aiResponse.includes('```')) {
                            jsonText = aiResponse.split('```')[1].split('```')[0].trim();
                        }
                        
                        const parsedData = JSON.parse(jsonText);
                        html = createStructuredHTML(parsedData);
                        
                    } catch (parseError) {
                        console.error('–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON:', parseError);
                        html = `
                            <div class="result-section">
                                <div class="result-section-title">‚ùå –û—à–∏–±–∫–∞ –∞–Ω–∞–ª–∏–∑–∞</div>
                                <div class="result-content">
                                    <p>–ù–µ —É–¥–∞–ª–æ—Å—å –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—Ç–≤–µ—Ç –æ—Ç –ò–ò. –°—ã—Ä–æ–π –æ—Ç–≤–µ—Ç:</p>
                                    <pre>${aiResponse}</pre>
                                </div>
                            </div>
                        `;
                    }
                } else {
                    html = '<p>–ù–µ —É–¥–∞–ª–æ—Å—å –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—Ç–≤–µ—Ç –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞</p>';
                }
                
                resultContainer.innerHTML = html;
            }

            function createStructuredHTML(data) {
                let html = '';
                
                if (data.personal_info && data.personal_info.full_name) {
                    html += `
                        <div class="candidate-summary">
                            <h3>üë§ ${data.personal_info.full_name}</h3>
                            <div class="summary-grid">
                                ${data.summary && data.summary.total_experience ? `
                                    <div class="summary-item">
                                        <div class="summary-value">${data.summary.total_experience}</div>
                                        <div class="summary-label">–û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã</div>
                                    </div>
                                ` : ''}
                                ${data.summary && data.summary.career_level ? `
                                    <div class="summary-item">
                                        <div class="summary-value">${data.summary.career_level}</div>
                                        <div class="summary-label">–£—Ä–æ–≤–µ–Ω—å</div>
                                    </div>
                                ` : ''}
                                ${data.education && data.education.length > 0 ? `
                                    <div class="summary-item">
                                        <div class="summary-value">${data.education.length}</div>
                                        <div class="summary-label">–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ</div>
                                    </div>
                                ` : ''}
                                ${data.experience && data.experience.length > 0 ? `
                                    <div class="summary-item">
                                        <div class="summary-value">${data.experience.length}</div>
                                        <div class="summary-label">–ú–µ—Å—Ç–∞ —Ä–∞–±–æ—Ç—ã</div>
                                    </div>
                                ` : ''}
                            </div>
                        </div>
                    `;
                }

                if (data.personal_info && data.personal_info.contacts) {
                    const contacts = data.personal_info.contacts;
                    html += `
                        <div class="result-section">
                            <div class="result-section-title">üìû –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</div>
                            <div class="contact-info">
                                ${contacts.email ? `
                                    <div class="contact-item">
                                        <span>üìß</span>
                                        <span>${contacts.email}</span>
                                    </div>
                                ` : ''}
                                ${contacts.phone ? `
                                    <div class="contact-item">
                                        <span>üì±</span>
                                        <span>${contacts.phone}</span>
                                    </div>
                                ` : ''}
                                ${contacts.location ? `
                                    <div class="contact-item">
                                        <span>üìç</span>
                                        <span>${contacts.location}</span>
                                    </div>
                                ` : ''}
                            </div>
                        </div>
                    `;
                }

                if (data.education && data.education.length > 0) {
                    html += `
                        <div class="result-section">
                            <div class="result-section-title">üéì –û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ</div>
                    `;
                    
                    data.education.forEach(edu => {
                        html += `
                            <div class="result-item">
                                <strong>${edu.institution || '–ù–µ —É–∫–∞–∑–∞–Ω–æ'}</strong>
                                ${edu.faculty ? `<div class="result-subitem">–§–∞–∫—É–ª—å—Ç–µ—Ç: ${edu.faculty}</div>` : ''}
                                ${edu.specialty ? `<div class="result-subitem">–°–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å: ${edu.specialty}</div>` : ''}
                                ${edu.years ? `<div class="result-subitem">–ü–µ—Ä–∏–æ–¥: ${edu.years}</div>` : ''}
                                ${edu.degree ? `<div class="result-subitem">–°—Ç–µ–ø–µ–Ω—å: ${edu.degree}</div>` : ''}
                            </div>
                        `;
                    });
                    
                    html += `</div>`;
                }

                if (data.experience && data.experience.length > 0) {
                    html += `
                        <div class="result-section">
                            <div class="result-section-title">üíº –û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã</div>
                    `;
                    
                    data.experience.forEach(exp => {
                        html += `
                            <div class="result-item">
                                <strong>${exp.company || '–ù–µ —É–∫–∞–∑–∞–Ω–æ'}</strong>
                                ${exp.position ? `<div class="result-subitem">–î–æ–ª–∂–Ω–æ—Å—Ç—å: ${exp.position}</div>` : ''}
                                ${exp.period ? `<div class="result-subitem">–ü–µ—Ä–∏–æ–¥: ${exp.period}</div>` : ''}
                                ${exp.responsibilities && exp.responsibilities.length > 0 ? `
                                    <div class="result-subitem">
                                        <strong>–û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏:</strong>
                                        <ul>
                                            ${exp.responsibilities.map(resp => `<li>${resp}</li>`).join('')}
                                        </ul>
                                    </div>
                                ` : ''}
                            </div>
                        `;
                    });
                    
                    html += `</div>`;
                }

                if (data.skills) {
                    html += `
                        <div class="result-section">
                            <div class="result-section-title">üõ†Ô∏è –ù–∞–≤—ã–∫–∏ –∏ –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏</div>
                    `;
                    
                    if (data.skills.technical && data.skills.technical.length > 0) {
                        html += `
                            <div class="result-item">
                                <strong>–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –Ω–∞–≤—ã–∫–∏:</strong>
                                <div class="skills-grid">
                                    ${data.skills.technical.map(skill => `<div class="skill-tag">${skill}</div>`).join('')}
                                </div>
                            </div>
                        `;
                    }
                    
                    if (data.skills.languages && data.skills.languages.length > 0) {
                        html += `
                            <div class="result-item">
                                <strong>–Ø–∑—ã–∫–∏:</strong>
                                <div class="skills-grid">
                                    ${data.skills.languages.map(lang => `<div class="skill-tag">${lang}</div>`).join('')}
                                </div>
                            </div>
                        `;
                    }
                    
                    if (data.skills.certifications && data.skills.certifications.length > 0) {
                        html += `
                            <div class="result-item">
                                <strong>–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:</strong>
                                <ul>
                                    ${data.skills.certifications.map(cert => `<li>${cert}</li>`).join('')}
                                </ul>
                            </div>
                        `;
                    }
                    
                    html += `</div>`;
                }

                if (data.summary && data.summary.key_qualifications && data.summary.key_qualifications.length > 0) {
                    html += `
                        <div class="result-section">
                            <div class="result-section-title">‚≠ê –ö–ª—é—á–µ–≤—ã–µ –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏</div>
                            <div class="result-item">
                                <ul>
                                    ${data.summary.key_qualifications.map(qual => `<li>${qual}</li>`).join('')}
                                </ul>
                            </div>
                        </div>
                    `;
                }

                return html;
            }

            // =================== –§–£–ù–ö–¶–ò–ò –î–õ–Ø –ê–ù–ê–õ–ò–ó–ê –°–û–û–¢–í–ï–¢–°–¢–í–ò–Ø –í–ê–ö–ê–ù–°–ò–ò ===================
            matchBtn.addEventListener('click', async function() {
                const resumeText = resumeTextMatch.value.trim();
                const jobText = jobDescription.value.trim();
                
                if (!resumeText) {
                    showNotification('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Ä–µ–∑—é–º–µ –∏–ª–∏ –≤–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç —Ä–µ–∑—é–º–µ', 'error');
                    return;
                }

                if (!jobText) {
                    showNotification('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏', 'error');
                    return;
                }
                
                matchLoading.style.display = 'block';
                matchBtn.disabled = true;
                
                try {
                    const matchResult = await analyzeJobMatch(resumeText, jobText);
                    displayMatchResults(matchResult);
                    showNotification('–ê–Ω–∞–ª–∏–∑ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω', 'success');
                    
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è:', error);
                    showNotification('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è: ' + error.message, 'error');
                } finally {
                    matchLoading.style.display = 'none';
                    matchBtn.disabled = false;
                }
            });

            async function analyzeJobMatch(resumeText, jobDescription) {
                return new Promise((resolve) => {
                    setTimeout(() => {
                        const skills = analyzeSkillsMatch(resumeText, jobDescription);
                        const experience = analyzeExperienceMatch(resumeText, jobDescription);
                        const education = analyzeEducationMatch(resumeText, jobDescription);
                        const additional = analyzeAdditionalMatch(resumeText, jobDescription);
                        
                        const overall = Math.round((skills.score + experience.score + education.score + additional.score) / 4);
                        
                        const result = {
                            overall: overall,
                            categories: {
                                skills,
                                experience,
                                education,
                                additional
                            },
                            recommendations: generateRecommendations(overall, skills, experience, education, additional)
                        };
                        
                        resolve(result);
                    }, 2000);
                });
            }

            function analyzeSkillsMatch(resume, job) {
                const techKeywords = [
                    'react', 'javascript', 'typescript', 'html', 'css', 'python', 'java', 
                    'node.js', 'vue', 'angular', 'redux', 'mobx', 'webpack', 'vite', 'git'
                ];
                
                const jobTech = techKeywords.filter(tech => 
                    job.toLowerCase().includes(tech)
                );
                
                const resumeTech = techKeywords.filter(tech => 
                    resume.toLowerCase().includes(tech)
                );
                
                const matchedTech = jobTech.filter(tech => 
                    resumeTech.includes(tech)
                );
                
                const score = jobTech.length > 0 ? 
                    Math.round((matchedTech.length / jobTech.length) * 100) : 0;
                
                return {
                    score: score,
                    matches: matchedTech.map(tech => ({ item: tech, status: 'match' })),
                    mismatches: jobTech.filter(tech => !resumeTech.includes(tech))
                        .map(tech => ({ item: tech, status: 'mismatch' }))
                };
            }

            function analyzeExperienceMatch(resume, job) {
                const hasExperience = resume.toLowerCase().includes('–æ–ø—ã—Ç') || 
                                   resume.toLowerCase().includes('experience') ||
                                   /\d+\s*(–≥–æ–¥|–ª–µ—Ç|–≥–æ–¥–∞)/.test(resume);
                
                const jobRequiresExperience = job.toLowerCase().includes('–æ–ø—ã—Ç') || 
                                           job.toLowerCase().includes('experience');
                
                let score = 70;
                
                if (jobRequiresExperience && hasExperience) {
                    score = 85;
                } else if (jobRequiresExperience && !hasExperience) {
                    score = 30;
                }
                
                return {
                    score: score,
                    matches: hasExperience ? [{ item: '–ï—Å—Ç—å —É–∫–∞–∑–∞–Ω–∏–µ –Ω–∞ –æ–ø—ã—Ç —Ä–∞–±–æ—Ç—ã', status: 'match' }] : [],
                    mismatches: jobRequiresExperience && !hasExperience ? 
                        [{ item: '–¢—Ä–µ–±—É–µ—Ç—Å—è –æ–ø—ã—Ç —Ä–∞–±–æ—Ç—ã', status: 'mismatch' }] : []
                };
            }

            function analyzeEducationMatch(resume, job) {
                const hasEducation = resume.toLowerCase().includes('–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ') || 
                                   resume.toLowerCase().includes('education') ||
                                   resume.toLowerCase().includes('—É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç') ||
                                   resume.toLowerCase().includes('–∏–Ω—Å—Ç–∏—Ç—É—Ç');
                
                const jobRequiresEducation = job.toLowerCase().includes('–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ') || 
                                          job.toLowerCase().includes('education');
                
                let score = 80;
                
                if (jobRequiresEducation && hasEducation) {
                    score = 90;
                } else if (jobRequiresEducation && !hasEducation) {
                    score = 40;
                }
                
                return {
                    score: score,
                    matches: hasEducation ? [{ item: '–£–∫–∞–∑–∞–Ω–æ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ', status: 'match' }] : [],
                    mismatches: jobRequiresEducation && !hasEducation ? 
                        [{ item: '–¢—Ä–µ–±—É–µ—Ç—Å—è –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ', status: 'mismatch' }] : []
                };
            }

            function analyzeAdditionalMatch(resume, job) {
                const additionalKeywords = ['agile', 'scrum', 'git', '—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ', 'testing', 'next.js'];
                
                const jobAdditional = additionalKeywords.filter(keyword => 
                    job.toLowerCase().includes(keyword)
                );
                
                const resumeAdditional = additionalKeywords.filter(keyword => 
                    resume.toLowerCase().includes(keyword)
                );
                
                const matchedAdditional = jobAdditional.filter(keyword => 
                    resumeAdditional.includes(keyword)
                );
                
                const score = jobAdditional.length > 0 ? 
                    Math.round((matchedAdditional.length / jobAdditional.length) * 100) : 80;
                
                return {
                    score: score,
                    matches: matchedAdditional.map(keyword => ({ item: keyword, status: 'match' })),
                    mismatches: jobAdditional.filter(keyword => !resumeAdditional.includes(keyword))
                        .map(keyword => ({ item: keyword, status: 'mismatch' }))
                };
            }

            function generateRecommendations(overall, skills, experience, education, additional) {
                const recommendations = [];
                
                if (overall < 50) {
                    recommendations.push('–ö–∞–Ω–¥–∏–¥–∞—Ç –∏–º–µ–µ—Ç –Ω–∏–∑–∫–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –≤–∞–∫–∞–Ω—Å–∏–∏');
                } else if (overall < 70) {
                    recommendations.push('–ö–∞–Ω–¥–∏–¥–∞—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –±–∞–∑–æ–≤—ã–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º, –Ω–æ –µ—Å—Ç—å –æ–±–ª–∞—Å—Ç–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è');
                } else if (overall < 85) {
                    recommendations.push('–ö–∞–Ω–¥–∏–¥–∞—Ç —Ö–æ—Ä–æ—à–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –≤–∞–∫–∞–Ω—Å–∏–∏');
                } else {
                    recommendations.push('–ö–∞–Ω–¥–∏–¥–∞—Ç –æ—Ç–ª–∏—á–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –≤–∞–∫–∞–Ω—Å–∏–∏');
                }
                
                if (skills.score < 70) {
                    recommendations.push('–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ—Ü–µ–Ω–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –Ω–∞–≤—ã–∫–∏');
                }
                
                if (experience.score < 60) {
                    recommendations.push('–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π –æ–ø—ã—Ç —Ä–∞–±–æ—Ç—ã');
                }
                
                if (education.score < 70) {
                    recommendations.push('–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º');
                }
                
                if (additional.mismatches.length > 0) {
                    recommendations.push('–£—á—Ç–∏—Ç–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –Ω–∞–≤—ã–∫–æ–≤');
                }
                
                return recommendations;
            }

            function displayMatchResults(result) {
                overallScore.textContent = `${result.overall}%`;
                overallScore.className = 'score-value ' + getScoreClass(result.overall);
                
                scoreDescription.textContent = getScoreDescription(result.overall);
                
                skillsScore.textContent = `${result.categories.skills.score}%`;
                skillsProgress.style.width = `${result.categories.skills.score}%`;
                skillsProgress.style.backgroundColor = getScoreColor(result.categories.skills.score);
                displayMatchItems(skillsItems, result.categories.skills);
                
                experienceScore.textContent = `${result.categories.experience.score}%`;
                experienceProgress.style.width = `${result.categories.experience.score}%`;
                experienceProgress.style.backgroundColor = getScoreColor(result.categories.experience.score);
                displayMatchItems(experienceItems, result.categories.experience);
                
                educationScore.textContent = `${result.categories.education.score}%`;
                educationProgress.style.width = `${result.categories.education.score}%`;
                educationProgress.style.backgroundColor = getScoreColor(result.categories.education.score);
                displayMatchItems(educationItems, result.categories.education);
                
                additionalScore.textContent = `${result.categories.additional.score}%`;
                additionalProgress.style.width = `${result.categories.additional.score}%`;
                additionalProgress.style.backgroundColor = getScoreColor(result.categories.additional.score);
                displayMatchItems(additionalItems, result.categories.additional);
                
                recommendationsList.innerHTML = result.recommendations
                    .map(rec => `<li>${rec}</li>`)
                    .join('');
                
                matchResult.style.display = 'block';
            }

            function displayMatchItems(container, category) {
                const allItems = [...category.matches, ...category.mismatches];
                
                container.innerHTML = allItems
                    .map(item => `
                        <div class="match-item ${item.status}">
                            <span class="match-icon">${getStatusIcon(item.status)}</span>
                            <span>${item.item}</span>
                        </div>
                    `)
                    .join('');
            }

            function getStatusIcon(status) {
                switch(status) {
                    case 'match': return '‚úÖ';
                    case 'mismatch': return '‚ùå';
                    case 'partial': return '‚ö†Ô∏è';
                    default: return 'üîπ';
                }
            }

            function getScoreClass(score) {
                if (score >= 85) return 'score-excellent';
                if (score >= 70) return 'score-good';
                if (score >= 50) return 'score-average';
                return 'score-poor';
            }

            function getScoreColor(score) {
                if (score >= 85) return 'var(--success-color)';
                if (score >= 70) return 'var(--secondary-color)';
                if (score >= 50) return 'var(--warning-color)';
                return 'var(--accent-color)';
            }

            function getScoreDescription(score) {
                if (score >= 85) return '–û—Ç–ª–∏—á–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ';
                if (score >= 70) return '–•–æ—Ä–æ—à–µ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ';
                if (score >= 50) return '–°—Ä–µ–¥–Ω–µ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ';
                return '–ù–∏–∑–∫–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ';
            }

            // =================== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ===================
            // –ü—Ä–∏–º–µ—Ä —Ä–µ–∑—é–º–µ
            resumeText.value = `–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á

–ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:
–¢–µ–ª–µ—Ñ–æ–Ω: +7 (999) 123-45-67
Email: ivanov@example.com
–ì–æ—Ä–æ–¥: –ú–æ—Å–∫–≤–∞

–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ:
2015-2019: –ú–æ—Å–∫–æ–≤—Å–∫–∏–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç, –§–∞–∫—É–ª—å—Ç–µ—Ç –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–π –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏ –∏ –∫–∏–±–µ—Ä–Ω–µ—Ç–∏–∫–∏, –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å: –ü—Ä–∏–∫–ª–∞–¥–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞

–û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã:
2019-2021: –û–û–û "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –±—É–¥—É—â–µ–≥–æ", –î–æ–ª–∂–Ω–æ—Å—Ç—å: Junior —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫
- –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –Ω–∞ Python –∏ JavaScript
- –£—á–∞—Å—Ç–∏–µ –≤ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞ –∫–æ–¥–∞
- –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –∫–æ–º–∞–Ω–¥–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

2021-2023: –û–û–û "–ò–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è", –î–æ–ª–∂–Ω–æ—Å—Ç—å: Middle —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫
- –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —á–∞—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –Ω–∞ React
- –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å–µ—Ä–≤–µ—Ä–Ω–æ–π —á–∞—Å—Ç–∏ –Ω–∞ Node.js –∏ Express
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- –£—á–∞—Å—Ç–∏–µ –≤ –∫–æ–¥-—Ä–µ–≤—å—é
- –ú–µ–Ω—Ç–æ—Ä–∏–Ω–≥ junior-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

–ù–∞–≤—ã–∫–∏:
- –Ø–∑—ã–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è: Python, JavaScript, TypeScript, SQL
- –§—Ä–µ–π–º–≤–æ—Ä–∫–∏: React, Node.js, Express, Django
- –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö: PostgreSQL, MongoDB, Redis
- –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã: Git, Docker, Webpack, Jest
- –ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏: Agile, Scrum, Kanban

–Ø–∑—ã–∫–∏:
- –†—É—Å—Å–∫–∏–π: —Ä–æ–¥–Ω–æ–π
- –ê–Ω–≥–ª–∏–π—Å–∫–∏–π: —É—Ä–æ–≤–µ–Ω—å B2 (—Å—Ä–µ–¥–Ω–µ-–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π)

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:
- –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è: AWS Certified Developer Associate
- –£—á–∞—Å—Ç–∏–µ –≤ opensource –ø—Ä–æ–µ–∫—Ç–∞—Ö
- –ü—É–±–ª–∏–∫–∞—Ü–∏–∏ –Ω–∞ –•–∞–±—Ä–µ –æ –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ`;

            // –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ–ª—è –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è
            resumeTextMatch.value = resumeText.value;
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ —Å–±—Ä–æ—Å–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
            resetStatsBtn.addEventListener('click', resetFirebaseStats);
            
            console.log('–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞');
        });
    </script>
</body>
</html>
